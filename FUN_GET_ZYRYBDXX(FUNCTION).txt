FUN_GET_ZYRYBDXX	FUNCTION	1	"FUNCTION       FUN_GET_ZYRYBDXX(As_byid In Varchar2,
"
FUN_GET_ZYRYBDXX	FUNCTION	2	"                                            As_date IN DATE,
"
FUN_GET_ZYRYBDXX	FUNCTION	3	"                                            As_lx   in varchar2)
"
FUN_GET_ZYRYBDXX	FUNCTION	4	"  RETURN VARCHAR2 IS
"
FUN_GET_ZYRYBDXX	FUNCTION	5	"  RESULT VARCHAR2(20);
"
FUN_GET_ZYRYBDXX	FUNCTION	6	"BEGIN
"
FUN_GET_ZYRYBDXX	FUNCTION	7	"  if As_lx = 'BQDM' THEN
"
FUN_GET_ZYRYBDXX	FUNCTION	8	"
"
FUN_GET_ZYRYBDXX	FUNCTION	9	"    SELECT OLD_BQ
"
FUN_GET_ZYRYBDXX	FUNCTION	10	"      INTO RESULT
"
FUN_GET_ZYRYBDXX	FUNCTION	11	"      FROM (select OLD_BQ
"
FUN_GET_ZYRYBDXX	FUNCTION	12	"              from zjhis.zy_dynamic
"
FUN_GET_ZYRYBDXX	FUNCTION	13	"             where patient_no = As_byid
"
FUN_GET_ZYRYBDXX	FUNCTION	14	"               AND TRANS_DATE < As_date
"
FUN_GET_ZYRYBDXX	FUNCTION	15	"             ORDER BY TRANS_DATE DESC)
"
FUN_GET_ZYRYBDXX	FUNCTION	16	"     WHERE ROWNUM = 1;
"
FUN_GET_ZYRYBDXX	FUNCTION	17	"  ELSIF As_lx = 'BQMC' THEN
"
FUN_GET_ZYRYBDXX	FUNCTION	18	"    SELECT fun_get_bqmc(OLD_BQ)
"
FUN_GET_ZYRYBDXX	FUNCTION	19	"      INTO RESULT
"
FUN_GET_ZYRYBDXX	FUNCTION	20	"      FROM (select OLD_BQ
"
FUN_GET_ZYRYBDXX	FUNCTION	21	"              from zjhis.zy_dynamic
"
FUN_GET_ZYRYBDXX	FUNCTION	22	"             where patient_no = As_byid
"
FUN_GET_ZYRYBDXX	FUNCTION	23	"               AND TRANS_DATE < As_date
"
FUN_GET_ZYRYBDXX	FUNCTION	24	"             ORDER BY TRANS_DATE DESC)
"
FUN_GET_ZYRYBDXX	FUNCTION	25	"     WHERE ROWNUM = 1;
"
FUN_GET_ZYRYBDXX	FUNCTION	26	"  elsif As_lx = 'CW' THEN
"
FUN_GET_ZYRYBDXX	FUNCTION	27	"    SELECT OLD_BED
"
FUN_GET_ZYRYBDXX	FUNCTION	28	"      INTO RESULT
"
FUN_GET_ZYRYBDXX	FUNCTION	29	"      FROM (select OLD_BED
"
FUN_GET_ZYRYBDXX	FUNCTION	30	"              from zjhis.zy_dynamic
"
FUN_GET_ZYRYBDXX	FUNCTION	31	"             where patient_no = As_byid
"
FUN_GET_ZYRYBDXX	FUNCTION	32	"               AND TRANS_DATE < As_date
"
FUN_GET_ZYRYBDXX	FUNCTION	33	"             ORDER BY TRANS_DATE DESC)
"
FUN_GET_ZYRYBDXX	FUNCTION	34	"     WHERE ROWNUM = 1;
"
FUN_GET_ZYRYBDXX	FUNCTION	35	"  elsif As_lx = 'KSDM' THEN
"
FUN_GET_ZYRYBDXX	FUNCTION	36	"    SELECT OLD_DEPA
"
FUN_GET_ZYRYBDXX	FUNCTION	37	"      INTO RESULT
"
FUN_GET_ZYRYBDXX	FUNCTION	38	"      FROM (select OLD_DEPA
"
FUN_GET_ZYRYBDXX	FUNCTION	39	"              from zjhis.zy_dynamic
"
FUN_GET_ZYRYBDXX	FUNCTION	40	"             where patient_no = As_byid
"
FUN_GET_ZYRYBDXX	FUNCTION	41	"               AND TRANS_DATE < As_date
"
FUN_GET_ZYRYBDXX	FUNCTION	42	"             ORDER BY TRANS_DATE DESC)
"
FUN_GET_ZYRYBDXX	FUNCTION	43	"     WHERE ROWNUM = 1;
"
FUN_GET_ZYRYBDXX	FUNCTION	44	"  elsif As_lx = 'KSMC' THEN
"
FUN_GET_ZYRYBDXX	FUNCTION	45	"    SELECT FUN_GET_KSMC(OLD_DEPA)
"
FUN_GET_ZYRYBDXX	FUNCTION	46	"      INTO RESULT
"
FUN_GET_ZYRYBDXX	FUNCTION	47	"      FROM (select OLD_DEPA
"
FUN_GET_ZYRYBDXX	FUNCTION	48	"              from zjhis.zy_dynamic
"
FUN_GET_ZYRYBDXX	FUNCTION	49	"             where patient_no = As_byid
"
FUN_GET_ZYRYBDXX	FUNCTION	50	"               AND TRANS_DATE < As_date
"
FUN_GET_ZYRYBDXX	FUNCTION	51	"             ORDER BY TRANS_DATE DESC)
"
FUN_GET_ZYRYBDXX	FUNCTION	52	"     WHERE ROWNUM = 1;
"
FUN_GET_ZYRYBDXX	FUNCTION	53	"
"
FUN_GET_ZYRYBDXX	FUNCTION	54	"  END IF;
"
FUN_GET_ZYRYBDXX	FUNCTION	55	"  RETURN(RESULT);
"
FUN_GET_ZYRYBDXX	FUNCTION	56	"END;
"
