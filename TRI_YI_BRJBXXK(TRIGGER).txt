TRI_YI_BRJBXXK	TRIGGER	1	"TRIGGER ""ZJHIS"".""TRI_YI_BRJBXXK"" 
"
TRI_YI_BRJBXXK	TRIGGER	2	"AFTER UPDATE OR INSERT ON GY_BRJBXXK
"
TRI_YI_BRJBXXK	TRIGGER	3	"FOR EACH ROW
"
TRI_YI_BRJBXXK	TRIGGER	4	"DECLARE
"
TRI_YI_BRJBXXK	TRIGGER	5	"al_jlxh number;
"
TRI_YI_BRJBXXK	TRIGGER	6	"ai_Flag number;
"
TRI_YI_BRJBXXK	TRIGGER	7	"BEGIN
"
TRI_YI_BRJBXXK	TRIGGER	8	" --应急系统转移病人
"
TRI_YI_BRJBXXK	TRIGGER	9	"  If INSERTING Then
"
TRI_YI_BRJBXXK	TRIGGER	10	"     ai_Flag := 1;
"
TRI_YI_BRJBXXK	TRIGGER	11	"  Else
"
TRI_YI_BRJBXXK	TRIGGER	12	"     IF :old.XM<>:new.XM  Or :old.SFZH<>:new.SFZH  Or
"
TRI_YI_BRJBXXK	TRIGGER	13	"        :old.JTZZ<>:new.JTZZ  Or :old.LXDH<>:new.LXDH  Or
"
TRI_YI_BRJBXXK	TRIGGER	14	"        :old.DWMC<>:new.DWMC  Or :old.ZH<>:new.ZH  Or
"
TRI_YI_BRJBXXK	TRIGGER	15	"        :old.BRXZDM<>:new.BRXZDM  Or :old.BRLB<>:new.BRLB  Or
"
TRI_YI_BRJBXXK	TRIGGER	16	"        :old.XB<>:new.XB  Or :old.csrq<>:new.csrq    THEN
"
TRI_YI_BRJBXXK	TRIGGER	17	"        ai_Flag := 1;
"
TRI_YI_BRJBXXK	TRIGGER	18	"     End If;
"
TRI_YI_BRJBXXK	TRIGGER	19	"  End If;
"
TRI_YI_BRJBXXK	TRIGGER	20	"  If ai_Flag = 1 Then
"
TRI_YI_BRJBXXK	TRIGGER	21	"     select seq_yi_brjbxxk_jlxh.nextval into al_jlxh from dual;
"
TRI_YI_BRJBXXK	TRIGGER	22	"     DELETE FROM YI_BRJBXXK WHERE JZKH = :new.JZKH;
"
TRI_YI_BRJBXXK	TRIGGER	23	"     INSERT INTO YI_BRJBXXK (JZKH,XM,SFZH,JTZZ,LXDH,DWMC,ZH,BRXZDM,BRLB,XB,jlxh,csrq,Yjsfbz,OldBrlb,OldBrxzdm)
"
TRI_YI_BRJBXXK	TRIGGER	24	"        VALUES (:new.JZKH,:new.XM,:new.SFZH,:new.JTZZ,:new.LXDH,:new.DWMC,:new.ZH,
"
TRI_YI_BRJBXXK	TRIGGER	25	"             1,1,:new.XB,al_jlxh,:new.Csrq,1,:new.BRLB,:new.BRXZDM);
"
TRI_YI_BRJBXXK	TRIGGER	26	"  Else
"
TRI_YI_BRJBXXK	TRIGGER	27	"     Null;
"
TRI_YI_BRJBXXK	TRIGGER	28	"  End If;
"
TRI_YI_BRJBXXK	TRIGGER	29	"END;
"
TRI_YI_BRJBXXK	TRIGGER	30	"
"
TRI_YI_BRJBXXK	TRIGGER	31	"
"
