TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	1	"Trigger ""TRI_ZY_DETAIL_CHARGE_YSCODE"" 
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	2	"Before Insert Or Update On zy_detail_charge 
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	3	"For Each Row
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	4	"
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	5	"
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	6	"
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	7	"Declare
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	8	"  Ls_zzys    Varchar2(10);
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	9	"  ls_curr_ks Varchar2(10);
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	10	"Begin
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	11	"  If :New.Twice_detail_code = 'HY' Then
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	12	"    Begin
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	13	"      Select zzys, curr_ks
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	14	"        Into Ls_zzys, ls_curr_ks
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	15	"        From Zy_patient_information
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	16	"       Where Patient_no = :New.Patient_no;
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	17	"    Exception
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	18	"      When NO_DATA_FOUND Then
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	19	"        Ls_zzys := '';
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	20	"    End;
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	21	"    If (:Old.Ys_code is null Or (Nvl(Rtrim(:Old.Ys_code), ' ') = ' ')) And
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	22	"       Updating('ys_code') Or
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	23	"       (:New.Ys_code is null Or (Nvl(Rtrim(:New.Ys_code), ' ') = ' ')) And
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	24	"       Inserting Then
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	25	"      :New.Ys_code := Ls_zzys;
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	26	"    End If;
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	27	"    If length(:New.curr_ks) < 4 And Inserting Then
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	28	"      :New.curr_ks := Ls_curr_ks;
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	29	"    End If;
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	30	"  End If;
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	31	"
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	32	"  case
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	33	"    when inserting then
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	34	"      if :new.sl < -50 and :new.twice_detail_code <> 'AU' and
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	35	"         (:new.fygl = 13 or :new.fygl = 18) then
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	36	"        :new.twice_detail_code := 'AU';
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	37	"      end if;
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	38	"    
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	39	"    when updating then
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	40	"      null;
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	41	"    
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	42	"  end case;
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	43	"
"
TRI_ZY_DETAIL_CHARGE_YSCODE	TRIGGER	44	"End Tri_zy_detail_charge_yscode;
"
