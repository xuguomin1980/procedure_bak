YK_QYKC_ALL	PROCEDURE	1	"PROCEDURE         ""YK_QYKC_ALL"" ( P_XTXH IN NUMBER, P_KFBZ IN NUMBER, P_ZBLB IN CHAR ) IS
"
YK_QYKC_ALL	PROCEDURE	2	"BEGIN
"
YK_QYKC_ALL	PROCEDURE	3	"DECLARE
"
YK_QYKC_ALL	PROCEDURE	4	"   V_YPXH	NUMBER(6);
"
YK_QYKC_ALL	PROCEDURE	5	"	 V_YPCDDM	NUMBER(4);
"
YK_QYKC_ALL	PROCEDURE	6	"	 CURSOR CUR_YP IS
"
YK_QYKC_ALL	PROCEDURE	7	"		SELECT YPXH,YPCDDM
"
YK_QYKC_ALL	PROCEDURE	8	"		FROM GY_YPCDJG WHERE KFBZ = P_KFBZ AND BMXH IS NULL
"
YK_QYKC_ALL	PROCEDURE	9	"		AND TO_CHAR(ZBLB) LIKE P_ZBLB AND SUBSTR(YPSX,10,1) = '0'
"
YK_QYKC_ALL	PROCEDURE	10	"		AND SUBSTR(BZ,1,1) = '0';
"
YK_QYKC_ALL	PROCEDURE	11	"BEGIN
"
YK_QYKC_ALL	PROCEDURE	12	"  DELETE FROM YK_QYKC_TEMP;
"
YK_QYKC_ALL	PROCEDURE	13	"  ---- START
"
YK_QYKC_ALL	PROCEDURE	14	"	OPEN CUR_YP;
"
YK_QYKC_ALL	PROCEDURE	15	"	LOOP
"
YK_QYKC_ALL	PROCEDURE	16	"		FETCH CUR_YP INTO V_YPXH,V_YPCDDM;
"
YK_QYKC_ALL	PROCEDURE	17	"		EXIT WHEN CUR_YP%NOTFOUND;
"
YK_QYKC_ALL	PROCEDURE	18	"	  YK_QYKC(P_XTXH,V_YPXH,V_YPCDDM);
"
YK_QYKC_ALL	PROCEDURE	19	"	END LOOP;
"
YK_QYKC_ALL	PROCEDURE	20	"	CLOSE CUR_YP;
"
YK_QYKC_ALL	PROCEDURE	21	"--EXCEPTION  -- exception handlers begin
"
YK_QYKC_ALL	PROCEDURE	22	"--   WHEN OTHERS THEN  -- handles all other errors
"
YK_QYKC_ALL	PROCEDURE	23	"--        ROLLBACK;
"
YK_QYKC_ALL	PROCEDURE	24	"--	RAISE_APPLICATION_ERROR(-20103,'YK_QYKC_ALL FAILS');
"
YK_QYKC_ALL	PROCEDURE	25	"END;
"
YK_QYKC_ALL	PROCEDURE	26	"END;
"
YK_QYKC_ALL	PROCEDURE	27	 
