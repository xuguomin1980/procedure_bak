FUN_GET_RYZD_ZYSQ	FUNCTION	1	"FUNCTION FUN_GET_RYZD_zysq(PRM_BRXH IN NUMBER) RETURN VARCHAR2 IS
"
FUN_GET_RYZD_ZYSQ	FUNCTION	2	"  RESULT VARCHAR2(500);
"
FUN_GET_RYZD_ZYSQ	FUNCTION	3	"BEGIN
"
FUN_GET_RYZD_ZYSQ	FUNCTION	4	"  DECLARE
"
FUN_GET_RYZD_ZYSQ	FUNCTION	5	"    STR_RYZD BL_BINGRENZDQK.JBMC%TYPE;
"
FUN_GET_RYZD_ZYSQ	FUNCTION	6	"    CURSOR CUR_RYZD IS
"
FUN_GET_RYZD_ZYSQ	FUNCTION	7	"      SELECT decode(xiuzhenzdmc,null,to_char(rownum)||'.'||nvl(zhenduanqz,'')||JBMC||nvl(zhenduanhz,''),to_char(rownum)||'.'||nvl(xiuzhenzdqz,'')||xiuzhenzdmc ||nvl(xiuzhenzdhz,''))
"
FUN_GET_RYZD_ZYSQ	FUNCTION	8	"         --to_char(rownum)||'.'||JBMC
"
FUN_GET_RYZD_ZYSQ	FUNCTION	9	"        FROM BL_BINGRENZDQK
"
FUN_GET_RYZD_ZYSQ	FUNCTION	10	"       WHERE BRXH = PRM_BRXH
"
FUN_GET_RYZD_ZYSQ	FUNCTION	11	"         AND (ZDLB = 2 OR ZDLB = 12)
"
FUN_GET_RYZD_ZYSQ	FUNCTION	12	"       ORDER BY ZDLB,ZDJC,sxh;
"
FUN_GET_RYZD_ZYSQ	FUNCTION	13	"  BEGIN
"
FUN_GET_RYZD_ZYSQ	FUNCTION	14	"    RESULT   := '';
"
FUN_GET_RYZD_ZYSQ	FUNCTION	15	"    STR_RYZD := '';
"
FUN_GET_RYZD_ZYSQ	FUNCTION	16	"    IF PRM_BRXH IS NULL THEN
"
FUN_GET_RYZD_ZYSQ	FUNCTION	17	"      RESULT := '';
"
FUN_GET_RYZD_ZYSQ	FUNCTION	18	"    ELSE
"
FUN_GET_RYZD_ZYSQ	FUNCTION	19	"      OPEN CUR_RYZD;
"
FUN_GET_RYZD_ZYSQ	FUNCTION	20	"      LOOP
"
FUN_GET_RYZD_ZYSQ	FUNCTION	21	"        FETCH CUR_RYZD
"
FUN_GET_RYZD_ZYSQ	FUNCTION	22	"          INTO STR_RYZD;
"
FUN_GET_RYZD_ZYSQ	FUNCTION	23	"        EXIT WHEN CUR_RYZD%NOTFOUND;
"
FUN_GET_RYZD_ZYSQ	FUNCTION	24	"        IF RESULT = '' OR RESULT IS NULL THEN
"
FUN_GET_RYZD_ZYSQ	FUNCTION	25	"          RESULT := STR_RYZD;
"
FUN_GET_RYZD_ZYSQ	FUNCTION	26	"        ELSE
"
FUN_GET_RYZD_ZYSQ	FUNCTION	27	"          RESULT := result || ',' || STR_RYZD;
"
FUN_GET_RYZD_ZYSQ	FUNCTION	28	"        END IF;
"
FUN_GET_RYZD_ZYSQ	FUNCTION	29	"      END LOOP;
"
FUN_GET_RYZD_ZYSQ	FUNCTION	30	"      CLOSE CUR_RYZD;
"
FUN_GET_RYZD_ZYSQ	FUNCTION	31	"    END IF;
"
FUN_GET_RYZD_ZYSQ	FUNCTION	32	"  END;
"
FUN_GET_RYZD_ZYSQ	FUNCTION	33	"  RETURN(RESULT);
"
FUN_GET_RYZD_ZYSQ	FUNCTION	34	"END FUN_GET_RYZD_zysq;
"
