FUN_GET_KJYP_PATIENTNO	FUNCTION	1	"FUNCTION ""FUN_GET_KJYP_PATIENTNO""(patientno number)
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	2	"return varchar2 
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	3	"Is 
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	4	"ls_ypmc varchar2(200);
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	5	"ls_return varchar2(2000);
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	6	"
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	7	"Cursor c1 Is  
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	8	" select ypmc from  gy_ypmcggzd where ypxh in (
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	9	"select distinct(substr(twice_detail_ID,1,5)) from zy_detail_charge where 
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	10	" substr(twice_detail_ID,1,5) in(select ypXh from gy_ypmcggzd where bzbm like 'A%')
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	11	" and fygl<3
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	12	" and patient_no =patientno );
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	13	" 
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	14	" 
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	15	" begin 
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	16	"   
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	17	" open c1;
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	18	" Loop 
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	19	"   fetch c1 into ls_ypmc;
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	20	" Exit When c1%notfound;
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	21	" ls_return:=ls_return||',' ||ls_ypmc;
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	22	"  End Loop;
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	23	"  
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	24	"  close c1;
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	25	"    Return(ls_return);
"
FUN_GET_KJYP_PATIENTNO	FUNCTION	26	" end ;
"
